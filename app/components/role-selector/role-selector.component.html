<div class="relative" (clickOutside)="closeDropdown()">
  <button 
    (click)="toggleDropdown()" 
    class="flex items-center space-x-2 px-3 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors"
    [class.bg-gray-600]="isOpen"
  >
    <i class="fas" [class]="getRoleIcon(selectedRole)" [ngClass]="getRoleClass(selectedRole)"></i>
    <span class="text-gray-100 capitalize">{{ selectedRole }}</span>
    <i class="fas fa-chevron-down text-gray-400 text-sm transition-transform" [class.rotate-180]="isOpen"></i>
  </button>

  <div 
    *ngIf="isOpen" 
    [@dropdownAnimation]
    class="absolute right-0 mt-2 w-48 rounded-lg bg-gray-700 shadow-lg py-2 z-50"
  >
    <button 
      *ngFor="let role of roles"
      (click)="selectRole(role)"
      class="w-full px-4 py-2 text-left hover:bg-gray-600 transition-colors flex items-center space-x-3"
      [class.bg-gray-600]="isSelected(role)"
    >
      <i class="fas" [class]="getRoleIcon(role)" [ngClass]="getRoleClass(role)"></i>
      <span class="text-gray-100 capitalize">{{ role }}</span>
    </button>
  </div>

  <div 
    *ngIf="isOpen" 
    class="fixed inset-0 z-40" 
    (click)="closeDropdown()">
  </div>
</div>
